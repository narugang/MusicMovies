<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>movies</title>
    <link rel="stylesheet" href="./css/movies.css" />
    <style></style>
  </head>
  <script>
    var requestURL = "https://yts.mx/api/v2/list_movies.json?sort_by=rating";
    var request = new XMLHttpRequest();

    request.open("GET", requestURL);
    console.log(request);

    request.responseType = "json";
    request.send();

    console.log(request);

    //응답이 반환 된 후
    request.onload = function () {
      //응답을 변수에 담는다. (movies)
      var movies = request.response;
      console.log(movies);

      //변수에 담은(movies)를 JS 객체에 포함한다.
      showMovies(movies);
    };

    var infomation = new Array("title_long", "rating", "runtime");

    function showMovies(jsonObj) {
      for (i = 0; i < 8; i++) {
        for (j = 0; j < infomation.length; j++) {
          document.getElementById("testSec" + i).innerText =
            jsonObj.data.movies[i][infomation[j]];
          // document.getElementById("testSec" + i).innerHTML =
          //   jsonObj.data.movies[i].rating;
          // document.getElementById("testSec" + i).innerHTML =
          //   jsonObj.data.movies[i].runtime;
        }
        console.log(jsonObj.data.movies[i]);
      }
    }
  </script>
  <body>
    <header>
      <div class="menuBar">
        <ul class="menuBarWrap">
          <li><a href="./index.html">Home</a></li>
          <li><a href="./music.html">Your Best Music</a></li>
          <li><a href="./movie.html">Your Best Movie</a></li>
          <li><a href="./contactpage.html">Contact Us</a></li>
        </ul>
      </div>
    </header>
    <nav>
      <div>
        <input
          type="text"
          id="searchKeyword"
          placeholder="검색어를 입력하세요"
        />
        <input type="button" id="search_btn" value="Search" />
      </div>
    </nav>
    <section>
      <div id="testSec"></div>
      <div id="movieContent">
        <div id="testSec0">
          <img src="" alt="" />
          <div id="title"></div>
          <div id="rating"></div>
          <div id=""></div>
        </div>
        <div id="testSec1"></div>
        <div id="testSec2"></div>
        <div id="testSec3"></div>
        <div id="testSec4"></div>
        <div id="testSec5"></div>
        <div id="testSec6"></div>
        <div id="testSec7"></div>
        <div id="testSec8"></div>
        <div><img src="./images/movies/hobbit.jpg" /></div>
        <div><img src="./images/movies/hobbit2.jpg" /></div>
        <div><img src="./images/movies/hobbit3.jpg" /></div>
        <div><img src="./images/movies/loadOfRing.jpg" /></div>
        <div><img src="./images/movies/loadOfRing2.jpg" /></div>
        <div><img src="./images/movies/loadOfRing3.jpg" /></div>
        <div>
          <img src="./images/movies/welcomeToDongmakgol.jpg" />
        </div>
      </div>
    </section>
    <footer>
      <div id="footer_Message">
        <b>Copyrightⓒ by Lee&Kang All Right Reserved</b>
      </div>
    </footer>
  </body>
  <script type="text/javascript" src="./js/movies.js"></script>
</html>
